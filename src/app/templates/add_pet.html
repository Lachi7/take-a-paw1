{% extends "base.html" %} 
{% block title %}Add a Pet â€” Take A Paw{% endblock %}

{% block content %}
<h2>Add a Pet for Adoption</h2>

<form class="form" method="post" action="/pets" enctype="multipart/form-data">
  <input type="hidden" name="next" value="/me/listings" />

  <!-- Basic pet info -->
  <div class="grid">
    <label>
      Pet Name
      <input type="text" name="name" required />
    </label>

    <label>
      Species
      <select name="species" required>
        <option value="Cat">Cat</option>
        <option value="Dog">Dog</option>
        <option value="Other">Other</option>
      </select>
    </label>

    <label>
      Breed
      <input type="text" name="breed" required />
    </label>

    <label>
      Age
      <input type="text" name="age" placeholder="e.g., 2 years" required />
    </label>

    <label>
      Gender
      <select name="gender" required>
        <option>Male</option>
        <option>Female</option>
      </select>
    </label>

    <label>
      Location
      <input type="text" name="location" placeholder="City, Country" required />
    </label>
  </div>


  <div class="grid">
    <label>
      Home type best suited
      <select name="home_type">
        <option value="">No preference</option>
        <option value="apartment">Apartment</option>
        <option value="house_with_yard">House with yard</option>
        <option value="farm">Farm / rural</option>
      </select>
    </label>

    <label>
      Pet activity level
      <select name="activity_level">
        <option value="">No preference</option>
        <option value="low">Low</option>
        <option value="medium">Medium</option>
        <option value="high">High</option>
      </select>
    </label>

    <label>
      Experience level required
      <select name="experience">
        <option value="">No preference</option>
        <option value="beginner">Beginner-friendly</option>
        <option value="intermediate">Some experience</option>
        <option value="advanced">Experienced only</option>
      </select>
    </label>

    <label>
      Time commitment needed
      <select name="time_commitment">
        <option value="">No preference</option>
        <option value="low">Low</option>
        <option value="medium">Moderate</option>
        <option value="high">High</option>
      </select>
    </label>

    <label>
      Best family situation
      <select name="family_situation">
        <option value="">No preference</option>
        <option value="no_children">No children</option>
        <option value="older_children">Older children</option>
        <option value="small_children">Small children</option>
        <option value="other_pets_ok">Good with other pets</option>
      </select>
    </label>
  </div>

  <label>
    Description
    <textarea name="description" rows="4" required></textarea>
  </label>
<label>
  Upload Pet Image
  <input type="file" name="image" accept="image/*" required />
</label>
  <br />
  <p>
    <em>
      To change your main contact info, go to
      <a href="{{ url_for('auth.profile_form') }}">Profile</a>.
    </em>
  </p>

  <button class="btn" type="submit" id="submit-btn">Publish Listing</button>

  <script>
    document
      .getElementById("submit-btn")
      .addEventListener("click", function (e) {
        e.target.disabled = true; // disable button
        e.target.form.submit();   // submit form
      });
  </script>
</form>
{% endblock %}
